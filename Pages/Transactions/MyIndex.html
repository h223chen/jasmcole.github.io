<!DOCTYPE HTML>
<html>

<link rel="stylesheet" href="./css/normalize.css">
<link rel="stylesheet" href="./css/skeleton.css">
<link rel="stylesheet" href="./css/custom.css">

<body>

  <br>
  <div class="container">
    <div class="row">
      <h1>Transaction visualisation</h1>
      This is a simple test of plotting and basic Javascript. All code should be considered to be in a half-finished state unless otherwise stated. Please send any bug reports or questions to me at the github link at the bottom of the page.
      <br><br>
    </div>

    <div class="row">
      <label class="filebutton">
        <input type="file" id="file-input" required/>
        <span>Upload file</span>
      </label>
      <span id='filestatus'>No file uploaded</span>
    </div>

  </div>

  <div style="background-color: #222222; color: #FFFFFF;">
    <div class="container">
      <div class="row">
        <div class="three columns" style="margin-top: 10px;">
          <h4>Data summary</h4>
        </div>

        <div class="three columns" style="margin-top: 15px;">
          <button id="togglesummaryBtn" class="button-dark", onclick="minimiseTable()">Toggle summary</button>
        </div>


      </div>
      <div class="row">
        <div class="three columns">
          Showing up to 50 rows. Select the appropriate columns to analyse, containing the transaction value description.
        </div>
        <div class="four columns">
          <label>Transactions column</label>
          <select id="transactionColumnInput" style="color: #000; min-width: 150px;">
          </select>
        </div>
        <div class="four columns">
          <label>Description column</label>
          <select id="descriptionColumnInput" style="color: #000; min-width: 150px;">
          </select>
        </div>
      </div>

      <div class="row" id="csvheadtable" style="margin-bottom: 10px;">
      </div>

      <form>
        <div class="row">
          <div class="three columns">
              <label>Category</label>
              <select id="categoryInput" style="color: #000">
              </select>
          </div>
          <div class="nine columns">
            <label>Transaction description</label>
            <textarea class="u-full-width" placeholder="Waiting for upload..." id="transactionDescription" style="color: #000"></textarea>
          </div>
        </div>
      </form>

    </div>
  </div>



  <div class="container" style="margin-top: 10px;">
    <h4 class="docs-header">Analysis</h4>
    <div class="row">
      <div class="three columns">
        <h5>Cumulative change</h5>
        This is the running total of the transactions.
      </div>
      <div class="nine columns">
        <canvas id="cumulative"></canvas>
      </div>
    </div>

    <div class="row">
      <div class="three columns">
        <h5>Outgoings</h5>
        This is a histogram of the debits from the account.<br><br>
        <form action="javascript:updateHistogramParams('neg');">
          Number of bins
          <input type="number" id="nbinsneg" min="1" max="50" value="20" style="width: 60px;">
          <br>Range<br>
          <input type="number" id="lowerneg" max="0" value="-200" style="width: 80px;">
          -
          <input type="number" id="upperneg" max="0" value="0" style="width: 80px;">
          <input type="submit" style="visibility: hidden;" />
        </form>

      </div>
      <div class="nine columns">
        <div id="histnegdiv">
          <canvas id="histneg"></canvas>
        </div>
      </div>
    </div>


    <div class="row">
      <div class="three columns">
        <h5>Individual transactions</h5>
        These are all of the transactions from the file.
      </div>
      <div class="nine columns">
        <canvas id="transactions"></canvas>
      </div>
    </div>

    <div class="row">
      <div class="three columns">
        <h5>Income</h5>
        This is a histogram of the credits to the account.<br><br>

        <form action="javascript:updateHistogramParams('pos');">
          Number of bins
          <input type="number" id="nbinspos" min="1" max="50" value="20" style="width: 60px;">
          <br>Range<br>
          <input type="number" id="lowerpos" min="0" value="0" style="width: 80px;">
          -
          <input type="number" id="upperpos" min="0" value="2000" style="width: 80px;">
          <input type="submit" style="visibility: hidden;" />
        </form>

      </div>
      <div class="nine columns">
        <div id="histposdiv">
          <canvas id="histpos"></canvas>
        </div>
      </div>
    </div>

  </div>

  <div style="background-color: #222222">
    <div class="container">
      <div class="row" style="margin-top: 30px; color: #FFF">
        <div class="twelve columns" style="margin-top: 30px;">
          <h4>About</h4>
          <p> Written by Jason Cole, author of <a href="www.jasmcole.com">Almost Looks Like Work</a>.</p>

          <p>See the code at <a href="www.github.com/jasmcole">www.github.com/jasmcole</a></p>
        </div>
      </div>
    </div>
  </div>

  <script src="Chart.js"></script>
  <script src="script.js"></script>

</body>
</html>
